{% style %}
  #shopify-section-{{ section.id }} {
    --background-color: #000000;
    --text-color: #FFFFFF;
  }
{% endstyle %}

{% if section.settings.video != blank and section.index == 1 %}
  {{ section.settings.video | file_url | preload_tag: as: 'video', type: 'video/mp4' }}
{% endif %}

<div class="homepage-hero relative flex min-h-[min(100vh,800px)] items-end text-white">
  <div class="homepage-hero__content page-width z-1 flex h-full w-full flex-col justify-center gap-16 md:flex-row md:items-end md:justify-between lg:p-16 {% if section.settings.enable_wrapper %}page-width {% else %}px-4{% endif %}">
    <div class="homepage-hero__header flex max-w-130 flex-col gap-4">
      <h2 class="display display-1 flex flex-col">
        {% assign title_parts = section.settings.title | newline_to_br | split: '<br />' %}
        {% for part in title_parts %}
          <span>{{ part }}</span>
        {% endfor %}
      </h2>
      <p class="max-w-100 text-xl md:text-2xl">
        Your at-home podiatry clinic for custom orthotics. Take our 30-sec assessment to get started
      </p>
    </div>
    <div class="homepage-hero__cta self-end">
      <a href="/" class="btn-round hover:bg-peach transition-colors duration-300 ease-in-out">Start here</a>
    </div>
  </div>
  <div class="homepage-hero__video fixed inset-0 -z-1 h-full">
    {%- if section.settings.video != blank -%}
      {{
        section.settings.video
        | video_tag: autoplay: true, loop: true, controls: false, playsinline: true, class: 'h-full w-full object-cover'
      }}
    {%- else -%}
      <div class="h-full w-full bg-black/50"></div>
    {%- endif -%}
  </div>

  <div class="absolute inset-0 z-0 bg-black/30"></div>
</div>

{% schema %}
{
  "name": "Homepage hero",
  "class": "section section-homepage-hero",
  "tag": "section",
  "settings": [
    {
      "type": "video",
      "id": "video",
      "label": "Video"
    },
    {
      "type": "textarea",
      "id": "title",
      "label": "Title",
      "default": "No Pain\nAll Gain"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#FFFFFF"
    }
  ],
  "presets": [
    {
      "name": "Homepage hero",
      "category": "Uncategorized",
      "settings": {}
    }
  ]
}
{% endschema %}
