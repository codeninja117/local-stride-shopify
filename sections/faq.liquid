{%- style -%}
  #shopify-section-{{section.id }} {
    --text-color: rgb({{section.settings.color_scheme.settings.text.red }}, {{section.settings.color_scheme.settings.text.green }}, {{section.settings.color_scheme.settings.text.blue }});
  }

  .section-{{ section.id }}-main {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-main {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="faq section-{{ section.id }}-main gradient color-{{ section.settings.color_scheme }}">
  <div class="page-width">
    <div class="faq__content flex flex-col gap-20 lg:flex-row">
      <div class="faq__header flex flex-col items-center gap-4 text-center md:gap-[60px] lg:w-1/3 lg:items-start lg:text-left">
        {%- if section.settings.title != blank -%}
          <h2 class="text-h1 section-title capitalize">
            {{
              section.settings.title
              | replace: '<em>', '<span>'
              | replace: '</em>', '</span>'
              | replace: '|', '</span><span>'
            }}
          </h2>
        {%- endif -%}

        <div class="section__action hidden w-full flex-col items-center gap-2 text-center md:w-fit lg:inline-flex">
          {%- if section.settings.button_label != blank -%}
            {% render 'button',
              tag: 'a',
              variant: 'primary',
              text: section.settings.button_label,
              url: section.settings.button_url
            %}
          {%- endif -%}
          {%- if section.settings.disclaimer != blank -%}
            <span class="inline-block text-black">{{ section.settings.disclaimer }}</span>
          {%- endif -%}
        </div>
      </div>

      <div class="faq__accordion flex flex-1 flex-col gap-2">
        {% for block in section.blocks %}
          <ui-accordion data-single-open="true" class="block overflow-hidden rounded-xl bg-white">
            <details class="">
              <summary class="ui-accordion__toggle flex cursor-pointer list-none items-center justify-between  gap-4 px-4 py-4 md:px-8 md:py-6 lg:text-xl">
                {{ block.settings.title }}

                <span class="ui-accordion__toggle-icon flex h-6 w-6 items-center justify-center rounded-full bg-white p-0.5 md:h-9 md:w-9">
                  {{- 'icon-chevron-down.svg' | inline_asset_content -}}
                </span>
              </summary>
              <div class="ui-accordion__content text-white">
                <div class="px-4 pb-4 md:px-8 md:pb-6">{{ block.settings.answer }}</div>
              </div>
            </details>
          </ui-accordion>
        {% endfor %}
      </div>

      <div class="faq__footer flex flex-col items-center justify-center gap-2 text-center lg:hidden">
        {% render 'button',
          tag: 'a',
          text: section.settings.button_label,
          url: section.settings.button_url,
          variant: 'primary'
        %}

        {%- if section.settings.disclaimer != blank -%}
          <span class="inline-block text-black">{{ section.settings.disclaimer }}</span>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Faq",
  "class": "section-faq js-section-color",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Title"
    },
    {
      "type": "paragraph",
      "content": "To accent a word or phrase, wrap it in italics."
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "label": "Title",
      "default": "<em>Frequently Asked</em> Questions"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button url"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Take The Quiz"
    },
    {
      "type": "inline_richtext",
      "id": "disclaimer",
      "label": "Disclaimer",
      "default": "180 Day Return Policy"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 320,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 320,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "accordion",
      "name": "Accordion",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Faq",
      "category": "Uncategorized",
      "settings": {}
    }
  ]
}
{% endschema %}
